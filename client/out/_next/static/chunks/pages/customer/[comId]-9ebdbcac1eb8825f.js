(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{5266:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer/[comId]",function(){return t(6310)}])},3638:function(e,s,t){"use strict";t.d(s,{Z:function(){return d}});var l=t(5893),a=t(1664),r=t.n(a),n=t(9150),i=t(5303);t(7294);var c=t(615);function d(e){return(0,l.jsxs)("div",{className:"relative ".concat(e.className," m-0.5 md:ml-0 md:m-2"),children:[(0,l.jsx)(i.Z,{className:"absolute left-2 bottom-16 z-20 sm:bottom-12",itemId:e.itemId,label:e.label,itemImage:e.img,Price:e.price,admin:e.admin}),(0,l.jsx)(n.Z,{className:"absolute md:bottom-12 sm:bottom-24 bottom-28 z-20 left-2 md:right-4 md:left-auto",itemId:e.itemId,label:e.label,itemImage:e.img,Price:e.price}),(0,l.jsxs)(r(),{href:e.href,className:" relative flex mt-0.5 mr-0.5 flex-col overflow-hidden w-auto h-auto",children:[(0,l.jsx)("div",{className:"h-auto rounded-large xl:h-auto relative overflow-hidden",children:(0,l.jsx)(c.lr,{className:"",showIndicators:e.showIndicators,showStatus:e.showStatus,autoPlay:e.autoPlay,infiniteLoop:e.infiniteLoop,animationHandler:e.animationHandler,stopOnHover:e.stopOnHover,emulateTouch:e.emulateTouch,showArrows:e.showArrows,transitionTime:e.transitionTime,interval:e.interval,showThumbs:e.showThumbs,children:e.imgArr})}),(0,l.jsxs)("div",{className:"flex p-2 justify-between bg-".concat(e.iColor),children:[(0,l.jsx)("div",{className:"overflow-x-clip h-5 w-2/3",children:(0,l.jsx)("span",{id:"iclabel",className:"text-xs text-ellipsis",children:e.label})}),(0,l.jsx)("div",{className:"flex items-center justify-end",children:(0,l.jsx)("span",{id:"icprice",className:"text-xs whitespace-nowrap font-bold bg-opacity-50 bg-third-c w-fit p-1 rounded-full px-2",children:e.price+" "+e.EGP})})]})]})]})}t(1538)},8474:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var l=t(5893);function a(){return(0,l.jsx)("div",{className:"flex w-full justify-center items-center h-screen",children:(0,l.jsx)("div",{className:"rounded-full border-8 border-main-t border-r-white h-24 w-24 animate-spin"})})}},6310:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var l=t(5893),a=t(7294),r=t(1163),n=t(8474),i=t(6154),c=t(5675),d=t.n(c),o=t(1273);function m(e){let s=(0,o.b)(),[t,r]=(0,a.useState)(!1),[c,m]=(0,a.useState)(0),[u,x]=(0,a.useState)([]),f=async()=>{let e=window.localStorage.getItem("adminID"),t=await i.Z.get("".concat(s,"/orders")),l=t.data.filter(s=>s.userId===e);x(l)};return(0,a.useEffect)(()=>{f()},[]),(0,l.jsx)("div",{id:"my-order",className:"  flex flex-wrap bg-white p-2 rounded-large",children:t?(0,l.jsx)(n.Z,{}):(0,l.jsx)(l.Fragment,{children:u.map(e=>{let s=e.items;return(0,l.jsx)("div",{className:" bg-third-c flex m-2 w-full justify-center  flex-wrap rounded-large ",children:s.map(e=>(0,l.jsx)("div",{className:"flex flex-wrap  w-fit",children:(0,l.jsxs)("div",{className:"bg-white p-2 m-2 flex flex-wrap w-fit rounded-large ",children:[(0,l.jsx)(d(),{width:960,height:1200,className:"w-20  rounded-large",src:"/"+e.itemImage[0]}),(0,l.jsxs)("div",{className:" p-2 flex-col",children:[(0,l.jsx)("span",{className:" text-xs block",children:e.label}),(0,l.jsx)("span",{className:"text-xs block",children:e.Price}),(0,l.jsx)("span",{className:"text-xs block",children:e.itemSize}),(0,l.jsxs)("span",{className:"text-xs block",children:["Date ",e.date]}),(0,l.jsx)("span",{className:"text-xs block",children:"ON IT S WAY TO YOU"})]})]},e)},e))},s)})})})}var u=t(3907),x=t(3638),f=t(1664),h=t.n(f);function p(e){let[s,t]=(0,u.Z)("favourites",[]);return(0,a.useEffect)(()=>{let e=localStorage.getItem("favourites");e&&t(JSON.parse(e))},[],{watch:{itemsinFavs:()=>{}}}),(0,l.jsx)("div",{id:"wish-list",className:" w-full bg-white p-2 flex justify-center flex-wrap rounded-large",children:0!==s.length?s.map(e=>{let s=e.itemImage;return(0,l.jsxs)("div",{className:" inline-block",children:[(0,l.jsx)(x.Z,{autoPlay:!1,infiniteLoop:!1,showStatus:!1,showArrows:!1,showIndicators:!1,showThumbs:!1,imgArr:s.map(e=>(0,l.jsx)(d(),{width:960,height:1200,src:"/"+e,className:"w-96"},e)),itemId:e.itemId,className:"w-32",price:"",href:"item/".concat(e.itemId),EGP:""},e._id),"              "]},e._id)}):(0,l.jsxs)("div",{className:"flex space-y-3 flex-col justify-center items-center",children:[(0,l.jsx)("i",{className:"text-6xl ri-heart-fill text-main-c"}),(0,l.jsx)("span",{className:"text-sm text-blackfaint-c",children:"NO ITEMS IN YOUR FAVOURITES"})]})})}function w(){let e=(0,o.b)();(0,r.useRouter)();let s=window.localStorage.getItem("adminID"),[t,n]=(0,a.useState)({firstName:"",lastName:"",Email:"",Phone:""});(0,a.useEffect)(()=>{i.Z.get("".concat(e,"/admin/").concat(s)).then(e=>{n(e.data)})},[]);let c=l=>{l.preventDefault(),i.Z.put("".concat(e,"/admin/").concat(s),t).then(e=>{console.log(e.data),window.location.reload()}).catch(e=>{console.log(e)})},d=e=>{n({...t,firstName:e.target.value})},m=e=>{n({...t,lastName:e.target.value})},u=e=>{n({...t,Email:e.target.value})},x=e=>{n({...t,Phone:e.target.value})};return(0,l.jsx)("div",{id:"personal-information",className:"w-full bg-white p-2 rounded-large",children:(0,l.jsxs)("form",{className:"flex-col flex sm:items-center space-y-3 md:space-y-5",onSubmit:c,children:[(0,l.jsxs)("div",{className:"flex space-x-2 justify-center sm:w-2/3 md:w-96",children:[(0,l.jsx)("input",{type:"text",value:t.firstName,onChange:d,placeholder:"First Name",className:"bg-third-c p-3 rounded-full w-full md:text-xl"}),(0,l.jsx)("input",{type:"text",value:t.lastName,onChange:m,placeholder:"Last Name",className:"bg-third-c p-3 rounded-full w-full md:text-xl"})]}),(0,l.jsx)("div",{className:"flex space-x-2 justify-center sm:w-2/3 md:w-96",children:(0,l.jsx)("input",{readOnly:!0,type:"Email",value:t.Email,onChange:u,placeholder:"Email Address",className:"bg-third-c p-3 rounded-full w-full"})}),(0,l.jsx)("div",{className:"flex space-x-2 justify-center sm:w-2/3 md:w-96",children:(0,l.jsx)("input",{type:"tel",value:t.Phone,onChange:x,placeholder:"Phone Number : example +201023456789",className:"bg-third-c p-3 rounded-full md:text-xl w-full"})}),(0,l.jsx)("div",{className:"w-full sm:w-2/3 md:w-96",children:(0,l.jsx)("input",{type:"submit",value:"Save",className:" bg-main-t w-full p-3 rounded-full"})})]})})}let g=()=>{let e=(0,o.b)();(0,r.useRouter)();let[s,t]=(0,a.useState)(""),[n,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[u,x]=(0,a.useState)(""),f=async l=>{let a=window.localStorage.getItem("adminID");if(l.preventDefault(),!s||!n||!d){x("Please fill in all fields.");return}if(n!==d){x("New password does not match.");return}try{let s=await i.Z.put("".concat(e,"/admin/").concat(a),{Password:n});200===s.status&&(t(""),c(""),m(""),x(""),alert("Password changed successfully!"))}catch(e){x(e.response.data.message)}};return(0,l.jsxs)("div",{className:"p-4 flex flex-col justify-center items-center bg-white rounded ",children:[u&&(0,l.jsx)("p",{className:"text-red-500 mb-4",children:u}),(0,l.jsxs)("form",{onSubmit:f,className:"flex-col flex justify-center w-full  md:w-96",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block font-bold mb-2",htmlFor:"currentPassword",children:"Current Password"}),(0,l.jsx)("input",{className:"bg-third-c rounded-full w-full py-3  px-3",type:"password",id:"currentPassword",name:"currentPassword",value:s,onChange:e=>t(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block font-bold mb-2",htmlFor:"newPassword",children:"New Password"}),(0,l.jsx)("input",{className:"bg-third-c rounded-full w-full py-3  px-3",type:"password",id:"newPassword",name:"newPassword",value:n,onChange:e=>c(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block font-bold mb-2",htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,l.jsx)("input",{className:"bg-third-c rounded-full w-full py-3  px-3",type:"password",id:"confirmPassword",name:"confirmPassword",value:d,onChange:e=>m(e.target.value)})]}),(0,l.jsx)("button",{type:"submit",className:"bg-main-t hover:bg-blue-700  font-bold py-3 px-4 rounded-full",children:"Change Password"})]})]})};t(4721);var j=t(1021);function N(e){let s=(0,o.b)(),[t,r]=(0,a.useState)(""),[n,c]=(0,a.useState)(""),[d,m]=(0,a.useState)(""),[u,x]=(0,a.useState)(""),[f,h]=(0,a.useState)(""),[p,w]=(0,a.useState)(""),[g,N]=(0,a.useState)(""),[b,v]=(0,a.useState)([]),y=()=>{c(!n)},I=async e=>{let t=window.localStorage.getItem("adminID"),l=b.indexOf(e);try{let e=await i.Z.delete("".concat(s,"/users/").concat(t,"/addresses/").concat(l));console.log(e.data);let a=[...b];a.splice(l,1),v(a)}catch(e){console.log(e)}},S=async(e,t)=>{try{let l=await i.Z.put("".concat(s,"/users/").concat(e,"/addresses"),{Address:t});console.log(l.data),window.location.reload()}catch(e){console.log(e)}},P=e=>{if(e.preventDefault(),d&&u&&t&&f&&g&&p){let e=document.getElementById("error-message");e.innerText=""}else{let e=document.getElementById("error-message");e.innerText="All fields are required";return}let s=localStorage.getItem("adminID");S(s,{firstName:d,lastName:u,region:t,area:f,Address:g,phone:p})};return(0,a.useEffect)(()=>{let e=window.localStorage.getItem("adminID");i.Z.get("".concat(s,"/admin/").concat(e,"/addresses")).then(e=>{v(e.data)})},[]),(0,l.jsxs)("div",{id:"personal-information",className:"w-full  flex flex-wrap items-center justify-center p-2 ",children:[b.map((e,s)=>(0,l.jsxs)("div",{className:"flex rounded-large relative p-2 m-2 w-full h-fit  md:h-56 md:w-80 lg:w-96 flex-col  pl-3 bg-third-c space-y-2 duration-500",children:[(0,l.jsx)("span",{className:"",children:e.firstName}),(0,l.jsx)("span",{className:"",children:e.phone}),(0,l.jsx)("span",{className:"font-bold",children:e.region}),(0,l.jsx)("span",{className:"font-bold",children:e.area}),(0,l.jsx)("span",{className:"font-bold",children:e.Address}),(0,l.jsx)("button",{className:" absolute w-11 flex justify-center items-center h-11 rounded-full text-white  hover:text-main-t  text-xl right-2 bottom-2 bg-main-c",onClick:()=>I(e),children:(0,l.jsx)("i",{class:"ri-delete-bin-5-fill"})})]},s)),(0,l.jsxs)("button",{onClick:y,className:"".concat(n?"active":""," flex group rounded-full bg-main-t hover:bg-main-c  duration-300 justify-evenly m-0.5 w-40 h-40  md:h-40 md:w-40 flex-col  items-center space-y-2"),id:"addnewaddressbutton",children:[(0,l.jsx)("span",{className:"text-7xl w-11 h-11 flex justify-center   ",children:(0,l.jsx)("i",{class:"ri-map-pin-add-fill  group-hover:text-white group-hover:text-9xl duration-500"})}),(0,l.jsx)("span",{className:"  text-xs duration-500 group-hover:opacity-0",children:"Add New Address"})]}),(0,l.jsxs)("form",{id:"addAF",className:"".concat(n?"active":""," rounded-large flex-col absolute bg-third-c p-3 flex sm:items-center md:w-fit space-y-3 md:space-y-5 top-2 md:top-0 w-full h-fit  duration-300 "),children:[(0,l.jsxs)("div",{className:"w-full flex items-center  space-x-4",children:[(0,l.jsx)("div",{onClick:y,className:" flex justify-center items-center cursor-pointer hover:text-main-t duration-300 rounded-full bg-main-c text-3xl text-white w-8 h-8",children:(0,l.jsx)("i",{class:" ri-close-line"})})," ",(0,l.jsx)("span",{className:" text-red opacity-80",id:"error-message"})]}),(0,l.jsxs)("div",{className:"w-full sm:w-2/3 md:w-96 space-x-2 flex",children:[(0,l.jsx)("input",{type:"text",placeholder:"First Name",className:"bg-white p-3 rounded-full w-full",value:d,onChange:e=>m(e.target.value)}),"          ",(0,l.jsx)("input",{type:"text",placeholder:"Last Name",className:"bg-white p-3 rounded-full w-full",value:u,onChange:e=>x(e.target.value)})]}),(0,l.jsx)(j.Xz,{country:"Egypt",value:t,onChange:e=>r(e),className:"rounded-full p-3 w-full bg-white sm:w-2/3 md:w-full"}),(0,l.jsx)("input",{type:"text",className:"rounded-full p-3 bg-white w-full sm:w-2/3 md:w-full",placeholder:"Area",value:f,onChange:e=>h(e.target.value)}),(0,l.jsx)("input",{type:"text",className:"rounded-full p-3 bg-white w-full sm:w-2/3 md:w-full",placeholder:"Address",value:g,onChange:e=>N(e.target.value)}),"        ",(0,l.jsxs)("div",{className:"flex w-full space-x-2 sm:w-2/3 md:w-full",children:[(0,l.jsx)("input",{type:"tel",readOnly:!0,value:"+20",className:"p-3 rounded-full bg-white w-14"}),(0,l.jsx)("input",{type:"tel",className:"w-full rounded-full p-3 bg-white",maxLength:"10",minLength:"10",placeholder:"phone number",value:p,onChange:e=>w(e.target.value)}),"        "]}),(0,l.jsx)("input",{type:"submit",value:"Add Address",className:"rounded-full p-3 w-full bg-main-t sm:w-2/3 md:w-full",onClick:P})]})]})}var b=t(6319),v=t(461);function y(){let e=(0,r.useRouter)(),[s,t]=(0,v.Z)("acsess_token"),n=e.query.comId,[i,c]=(0,a.useState)("hidden"),[d,o]=(0,a.useState)(""),[u,x]=(0,a.useState)("");return(0,a.useEffect)(()=>{let e=document.querySelectorAll("a");e.forEach(e=>{e.id===n&&e.classList.add("active")})}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("label",{className:"  m-5 font-extralight text-3xl hidden md:block",children:"Account Information"}),s.access_token?(0,l.jsxs)("div",{id:"accnav",className:" relative m-2 rounded-large p-2 flex flex-col sm:flex-row space-y-2",children:[(0,l.jsxs)("div",{className:"flex   bg-white bg-opacity-50 md:bg-opacity-0 rounded-full p-3    sm:flex-col   justify-center sm:justify-normal sm:space-y-3  md:m-2 sm:w-80 space-x-2 sm:space-x-0   ",children:[(0,l.jsxs)(h(),{id:"my-orders",href:"my-orders",className:"".concat("my-orders"===n?"active":""," group text-xs md:text-sm lg:text-base flex flex-col sm:flex-row items-center   font-extralight .al   md:p-2 rounded-large  "),children:[(0,l.jsx)("i",{class:"text-2xl  group-hover:text-main-t mr-2 duration-200 ri-apps-2-fill"}),(0,l.jsx)("span",{children:" Orders"})," "]}),(0,l.jsxs)(h(),{id:"wish-list",href:"wish-list",className:"".concat("wish-list"===n?"active":""," group text-xs md:text-sm lg:text-base flex  flex-col sm:flex-row  items-center font-extralight .al md:p-2 rounded-large "),children:[(0,l.jsx)("i",{class:"text-2xl  group-hover:text-main-t duration-200 ri-heart-2-fill mr-2"}),(0,l.jsx)("span",{children:"Wishs"})]}),(0,l.jsxs)(h(),{id:"address",href:"address",className:"".concat("address"===n?"active":""," text-xs group md:text-sm lg:text-base font-extralight  flex-col sm:flex-row  flex items-center .al md:p-2 rounded-large "),children:[(0,l.jsx)("i",{class:"text-2xl group-hover:text-main-t duration-200  ri-map-2-fill mr-2"}),(0,l.jsx)("span",{children:"Address Book"})]}),(0,l.jsxs)(h(),{id:"personal-information",href:"personal-information",className:"".concat("personal-information"===n?"active":""," group font-extralight flex  flex-col sm:flex-row  items-center text-xs md:text-sm lg:text-base .al md:p-2 rounded-large "),children:[(0,l.jsx)("i",{class:"text-2xl mr-2  group-hover:text-main-t duration-200 ri-account-circle-fill "}),"  User Information"]}),(0,l.jsxs)(h(),{id:"change-password",href:"change-password",className:"".concat("change-password"===n?"active":""," text-xs md:text-sm group font-extralight  flex-col sm:flex-row  flex items-center lg:text-base .al md:p-2 rounded-large "),children:[(0,l.jsx)("i",{class:"text-2xl mr-2  group-hover:text-main-t duration-200 ri-key-fill"}),"Password"]})]}),(0,l.jsxs)("div",{id:"comId",className:"w-full",children:["my-orders"===n?(0,l.jsx)(m,{}):null,"address"===n?(0,l.jsx)(N,{}):null,"change-password"===n?(0,l.jsx)(g,{}):null,"personal-information"===n?(0,l.jsx)(w,{}):null,"wish-list"===n?(0,l.jsx)(p,{}):null]})]}):(0,l.jsx)(b.Z,{})]})}}},function(e){e.O(0,[624,997,774,888,179],function(){return e(e.s=5266)}),_N_E=e.O()}]);