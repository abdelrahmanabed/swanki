(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{5990:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shopping",function(){return l(1325)}])},3638:function(e,t,l){"use strict";l.d(t,{Z:function(){return c}});var i=l(5893),a=l(1664),s=l.n(a),r=l(9150),o=l(5303);l(7294);var n=l(615);function c(e){return(0,i.jsxs)("div",{className:"relative ".concat(e.className," m-0.5 md:ml-0 md:m-2"),children:[(0,i.jsx)(o.Z,{className:"absolute left-2 bottom-16 z-20 sm:bottom-12",itemId:e.itemId,label:e.label,itemImage:e.img,Price:e.price,admin:e.admin}),(0,i.jsx)(r.Z,{className:"absolute md:bottom-12 sm:bottom-24 bottom-28 z-20 left-2 md:right-4 md:left-auto",itemId:e.itemId,label:e.label,itemImage:e.img,Price:e.price}),(0,i.jsxs)(s(),{href:e.href,className:" relative flex mt-0.5 mr-0.5 flex-col overflow-hidden w-auto h-auto",children:[(0,i.jsx)("div",{className:"h-auto rounded-large xl:h-auto relative overflow-hidden",children:(0,i.jsx)(n.lr,{className:"",showIndicators:e.showIndicators,showStatus:e.showStatus,autoPlay:e.autoPlay,infiniteLoop:e.infiniteLoop,animationHandler:e.animationHandler,stopOnHover:e.stopOnHover,emulateTouch:e.emulateTouch,showArrows:e.showArrows,transitionTime:e.transitionTime,interval:e.interval,showThumbs:e.showThumbs,children:e.imgArr})}),(0,i.jsxs)("div",{className:"flex p-2 justify-between bg-".concat(e.iColor),children:[(0,i.jsx)("div",{className:"overflow-x-clip h-5 w-2/3",children:(0,i.jsx)("span",{id:"iclabel",className:"text-xs text-ellipsis",children:e.label})}),(0,i.jsx)("div",{className:"flex items-center justify-end",children:(0,i.jsx)("span",{id:"icprice",className:"text-xs whitespace-nowrap font-bold bg-opacity-50 bg-third-c w-fit p-1 rounded-full px-2",children:e.price+" "+e.EGP})})]})]})]})}l(1538)},1325:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return x}});var i=l(5893),a=l(1664),s=l.n(a),r=l(7294),o=l(3907);l(3638);var n=l(6053),c=l(6154),d=l(5675),m=l.n(d),h=l(1273);function x(){let e=(0,h.b)(),[t,a]=(0,o.Z)("cart",[]),[d,x]=(0,r.useState)("hidden"),[f,u]=(0,r.useState)("hidden"),g=(e,l)=>{let i=t.map(t=>t.itemId===e?{...t,Color:l}:t);a(i),localStorage.setItem("cart",JSON.stringify(i)),b()},p=(e,l)=>{let i=t.map(t=>t.itemId===e?{...t,itemSize:l}:t);a(i),localStorage.setItem("cart",JSON.stringify(i)),N()},b=()=>{x(!d)},N=()=>{u(!f)};(0,r.useEffect)(()=>{let e=localStorage.getItem("cart");e&&a(JSON.parse(e))},[],{watch:{itemsinCart:()=>{}}});let w=async l=>{let i={...l,itemId:j()},s=[...t,i];a(s),localStorage.setItem("cart",JSON.stringify(s));let r=localStorage.getItem("adminID");if(r)try{let t={itemId:i.itemId,itemImage:i.itemImage,label:i.label,Price:i.Price,Color:i.Color,itemSize:i.itemSize,otherColors:props.otherColors,otherSizes:props.otherSizes},l=await c.Z.post("".concat(e,"/admin/").concat(r,"/cart"),{item:t});console.log(l.data),localStorage.setItem("cart",JSON.stringify(l.data.Cart))}catch(e){console.error(e)}},j=()=>{let e=l(8647);return e.nanoid()},v=async l=>{let i=t.filter(e=>e.itemId!==l);a(i),localStorage.setItem("cart",JSON.stringify(i));let s=localStorage.getItem("adminID");if(s)try{let t=await c.Z.put("".concat(e,"/admin/").concat(s,"/cart"),{item:{itemId:l}});console.log(t.data),localStorage.setItem("cart",JSON.stringify(t.data.Cart))}catch(e){console.error(e)}};return(0,i.jsxs)("div",{className:"flex  flex-col m-2 items-center overflow-hidden",children:[(0,i.jsx)("div",{className:"  flex flex-col lg:flex-row justify-center items-center  p-2 w-full flex-wrap ",children:0!==t.length?t.map(e=>{let t=e.itemImage,l=e.Color,a=t.filter(e=>e.endsWith(l)),s=e.otherColors,r=e.otherSizes;return(0,i.jsxs)("div",{className:"flex relative  rounded-large p-2  bg-third-c bg-opacity-60  w-full m-0.5 md:w-96 ",children:[(0,i.jsx)("div",{className:"flex flex-col",children:(0,i.jsx)(n.Z,{atcClass:"hidden",favClass:"hidden",imgArr:(0,i.jsx)(m(),{width:960,height:1200,src:"/"+a[0],className:"w-96"}),itemId:e.itemId,className:"w-28",img:"/"+e.itemImage,price:"",href:"item/".concat(e.itemId),EGP:""},e._id)}),(0,i.jsxs)("div",{className:"flex text-xs flex-col justify- space-y-5 w-full",children:[(0,i.jsxs)("span",{id:"shopping price",className:" bg-white absolute  text-lg md:text-xl lg:text-base xl:text-lg w-20 right-0 top-1/3 rounded-l-large font-thin p-2 text-center",children:[e.Price," EGP "]}),(0,i.jsx)("span",{className:" font-black ",children:e.label}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("span",{children:["color : ",(0,i.jsx)("img",{className:"w-8 h-8 inline-block rounded-full",src:"/"+a[0]})]}),(0,i.jsx)("button",{onClick:b,className:" ml-2 text-xs font-extralight border p-0.5 rounded-large",children:"change"}),(0,i.jsx)("div",{className:"space-x-1 bg-opacity-20 w-fit bg-main-c p-1 rounded-full ".concat(d?"hidden":"flex"),children:s.map(t=>(0,i.jsx)(m(),{width:960,height:1200,onClick:()=>g(e.itemId,t),src:"/"+t,className:"w-5 h-5 cursor-pointer rounded-full"},t))})]}),(0,i.jsxs)("span",{className:"",children:["Size : ",(0,i.jsx)("div",{className:"inline relative w-10 h-10 rounded-lg bg-white p-2",children:e.itemSize}),(0,i.jsx)("button",{onClick:N,className:" ml-2 text-xs font-extralight border p-0.5 rounded-large",children:"change"}),(0,i.jsx)("div",{className:"space-x-2 absolute   bottom-1 left-1  w-fit  bg-main-c bg-opacity-20 p-1 rounded-full flex  ".concat(f?"hidden":"flex"),children:r.map(t=>(0,i.jsx)("span",{onClick:()=>p(e.itemId,t),className:" bg-white rounded-full p-2 cursor-pointer hover:text-main-t",children:t},t))})]})]}),(0,i.jsxs)("button",{onClick:()=>v(e.itemId),className:"bg-white hover:bg-red  duration-300  hover:text-white p-2 rounded-full absolute bottom-2 right-2 ",children:[(0,i.jsx)("i",{class:"ri-delete-bin-5-fill"})," Delete"]}),(0,i.jsxs)("button",{onClick:()=>w(e),className:"bg-white hover:bg-main-t duration-300 hover:text-white p-2 rounded-full absolute bottom-2 right-24",children:[(0,i.jsx)("i",{className:"ri-add-fill"})," 1"]})]},e._id)}):(0,i.jsxs)("div",{className:"flex space-y-3 flex-col justify-center items-center",children:[(0,i.jsx)("i",{className:" ri-shopping-bag-3-line text-4xl"}),"            ",(0,i.jsx)("span",{className:"text-sm text-blackfaint-c",children:"NO ITEMS IN YOUR CART"})]})}),0==t.length?"":(0,i.jsxs)("div",{className:"w-fit md:w-fit p-7 rounded-large flex flex-col bg-third-c space-y-2  bg-opacity-60   justify-center items-center",children:[(0,i.jsx)("span",{className:"text-xl ",children:"Total Amount"}),(0,i.jsxs)("span",{className:"text-2xl font-extrabold",children:[t.reduce((e,t)=>e+t.Price,0)," EGP"]}),(0,i.jsx)(s(),{href:"/shopping/payment",className:"bg-main-t  p-2 rounded-full font-extralight text-xl",children:"Complete Order"})]})]})}}},function(e){e.O(0,[624,774,888,179],function(){return e(e.s=5990)}),_N_E=e.O()}]);